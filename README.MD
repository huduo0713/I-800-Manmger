# GoFrame Demo Project

è¿™æ˜¯ä¸€ä¸ªåŸºäº **GoFrame v2.9.0** æ¡†æ¶æ„å»ºçš„å•ä½“åº”ç”¨é¡¹ç›®ï¼Œä¸»è¦å®ç°äº†ç”¨æˆ·ç®¡ç†å’ŒHelloæ¥å£çš„Web APIæœåŠ¡ã€‚

## å¿«é€Ÿå¼€å§‹

- GoFrameå®˜æ–¹æ–‡æ¡£: https://goframe.org/quick
- å¯åŠ¨é¡¹ç›®: `go run main.go`

## é¡¹ç›®æ¶æ„

### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: GoFrame v2.9.0
- **æ•°æ®åº“**: MySQL (ä½¿ç”¨å®˜æ–¹MySQLé©±åŠ¨)
- **APIæ–‡æ¡£**: OpenAPI 3.0 è§„èŒƒ
- **éƒ¨ç½²**: æ”¯æŒDocker + Kubernetes

### åˆ†å±‚æ¶æ„
```
APIå±‚ â†’ Controllerå±‚ â†’ Service/Logicå±‚ â†’ DAOå±‚ â†’ Database
```

## ğŸ“ ç›®å½•ç»“æ„è¯¦è§£

### ğŸ”§ æ ¹ç›®å½•é…ç½®æ–‡ä»¶
```
.
â”œâ”€â”€ go.mod              # Goæ¨¡å—ä¾èµ–ç®¡ç†
â”œâ”€â”€ go.sum              # ä¾èµ–ç‰ˆæœ¬é”å®šæ–‡ä»¶
â”œâ”€â”€ main.go             # ç¨‹åºå…¥å£æ–‡ä»¶
â”œâ”€â”€ api.json            # OpenAPI 3.0è§„èŒƒçš„APIæ–‡æ¡£
â”œâ”€â”€ Makefile            # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â””â”€â”€ README.MD           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

### ğŸ“¡ APIæ¥å£å®šä¹‰å±‚ (`api/`)
```
api/
â”œâ”€â”€ hello/
â”‚   â”œâ”€â”€ hello.go        # Helloæ¨¡å—é€šç”¨å®šä¹‰
â”‚   â””â”€â”€ v1/hello.go     # Helloæ¨¡å—v1ç‰ˆæœ¬APIç»“æ„ä½“
â””â”€â”€ user/
    â”œâ”€â”€ user.go         # Useræ¨¡å—é€šç”¨å®šä¹‰  
    â””â”€â”€ v1/user.go      # Useræ¨¡å—v1ç‰ˆæœ¬APIç»“æ„ä½“(è¯·æ±‚/å“åº”)
```

**ä½œç”¨**: 
- å®šä¹‰APIæ¥å£çš„è¯·æ±‚å’Œå“åº”ç»“æ„ä½“
- ä½¿ç”¨GoFrameçš„`g.Meta`æ ‡ç­¾å®šä¹‰è·¯ç”±ã€æ–¹æ³•ã€éªŒè¯è§„åˆ™ç­‰
- æŒ‰æ¨¡å—å’Œç‰ˆæœ¬ç»„ç»‡ï¼Œä¾¿äºAPIç‰ˆæœ¬ç®¡ç†

### ğŸ—ï¸ å†…éƒ¨ä¸šåŠ¡é€»è¾‘å±‚ (`internal/`)

#### ğŸš€ å‘½ä»¤è¡Œå¯åŠ¨å±‚ (`internal/cmd/`)
```
internal/cmd/
â””â”€â”€ cmd.go              # HTTPæœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ï¼Œé…ç½®è·¯ç”±å’Œä¸­é—´ä»¶
```

#### ğŸ® æ§åˆ¶å™¨å±‚ (`internal/controller/`)
```
internal/controller/
â”œâ”€â”€ hello/
â”‚   â”œâ”€â”€ hello.go              # Helloæ§åˆ¶å™¨åŸºç¡€å®šä¹‰
â”‚   â”œâ”€â”€ hello_new.go          # Helloæ§åˆ¶å™¨æ„é€ å‡½æ•°
â”‚   â””â”€â”€ hello_v1_hello.go     # Hello v1ç‰ˆæœ¬å…·ä½“å¤„ç†é€»è¾‘
â””â”€â”€ user/
    â”œâ”€â”€ user.go               # Useræ§åˆ¶å™¨åŸºç¡€å®šä¹‰
    â”œâ”€â”€ user_new.go           # Useræ§åˆ¶å™¨æ„é€ å‡½æ•°
    â”œâ”€â”€ user_v1_create.go     # åˆ›å»ºç”¨æˆ·å¤„ç†é€»è¾‘
    â”œâ”€â”€ user_v1_delete.go     # åˆ é™¤ç”¨æˆ·å¤„ç†é€»è¾‘
    â”œâ”€â”€ user_v1_get_list.go   # è·å–ç”¨æˆ·åˆ—è¡¨å¤„ç†é€»è¾‘
    â”œâ”€â”€ user_v1_get_one.go    # è·å–å•ä¸ªç”¨æˆ·å¤„ç†é€»è¾‘
    â””â”€â”€ user_v1_update.go     # æ›´æ–°ç”¨æˆ·å¤„ç†é€»è¾‘
```

**ä½œç”¨**:
- å¤„ç†HTTPè¯·æ±‚è·¯ç”±
- è°ƒç”¨serviceå±‚ä¸šåŠ¡é€»è¾‘
- æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†æ–‡ä»¶ï¼Œä¾¿äºç»´æŠ¤

#### ğŸ“Š æ•°æ®æ¨¡å‹å±‚ (`internal/model/`)
```
internal/model/
â”œâ”€â”€ do/user.go          # Data Object - æ•°æ®åº“æ“ä½œå¯¹è±¡
â””â”€â”€ entity/user.go      # Entity - æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç»“æ„ä½“
```

**ä½œç”¨**:
- **entity**: æ•°æ®åº“è¡¨æ˜ å°„çš„Goç»“æ„ä½“ï¼ˆé€šè¿‡GoFrameå·¥å…·è‡ªåŠ¨ç”Ÿæˆï¼‰
- **do**: æ•°æ®åº“æ“ä½œæ—¶ä½¿ç”¨çš„å¯¹è±¡

#### ğŸ’¾ æ•°æ®è®¿é—®å±‚ (`internal/dao/`)
```
internal/dao/
â”œâ”€â”€ user.go             # Useræ•°æ®è®¿é—®å¯¹è±¡å®šä¹‰
â””â”€â”€ internal/user.go    # Useræ•°æ®è®¿é—®å†…éƒ¨å®ç°
```

**ä½œç”¨**:
- å°è£…æ•°æ®åº“CRUDæ“ä½œ
- æä¾›ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£

#### ğŸ“¦ å…¶ä»–å†…éƒ¨æ¨¡å—
```
internal/
â”œâ”€â”€ consts/             # å¸¸é‡å®šä¹‰
â”œâ”€â”€ logic/              # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ service/            # æœåŠ¡å±‚
â””â”€â”€ packed/             # èµ„æºæ–‡ä»¶æ‰“åŒ…
```

### ğŸš€ éƒ¨ç½²è¿ç»´ç›¸å…³

#### ğŸ“‹ éƒ¨ç½²é…ç½® (`manifest/`)
```
manifest/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml                 # åº”ç”¨é…ç½®æ–‡ä»¶
â”œâ”€â”€ deploy/kustomize/               # Kuberneteséƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ base/                      # åŸºç¡€éƒ¨ç½²é…ç½®
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â””â”€â”€ kustomization.yaml
â”‚   â””â”€â”€ overlays/develop/          # å¼€å‘ç¯å¢ƒè¦†ç›–é…ç½®
â”‚       â”œâ”€â”€ configmap.yaml
â”‚       â”œâ”€â”€ deployment.yaml
â”‚       â””â”€â”€ kustomization.yaml
â”œâ”€â”€ docker/                        # Dockerå®¹å™¨åŒ–
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ docker.sh
â”œâ”€â”€ i18n/                          # å›½é™…åŒ–æ–‡ä»¶
â””â”€â”€ protobuf/                      # Protocol Bufferså®šä¹‰
```

#### ğŸ”§ å¼€å‘å·¥å…· (`hack/`)
```
hack/
â”œâ”€â”€ config.yaml         # å¼€å‘é…ç½®
â”œâ”€â”€ hack-cli.mk         # CLIå·¥å…·makefile
â””â”€â”€ hack.mk             # å¼€å‘è„šæœ¬makefile
```

#### ğŸ“± é™æ€èµ„æº (`resource/`)
```
resource/
â”œâ”€â”€ public/                        # å…¬å…±é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ html/                     # HTMLæ–‡ä»¶
â”‚   â”œâ”€â”€ plugin/                   # æ’ä»¶æ–‡ä»¶
â”‚   â””â”€â”€ resource/                 # èµ„æºæ–‡ä»¶
â”‚       â”œâ”€â”€ css/                  # æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ image/                # å›¾ç‰‡èµ„æº
â”‚       â””â”€â”€ js/                   # JavaScriptæ–‡ä»¶
â””â”€â”€ template/                     # æ¨¡æ¿æ–‡ä»¶
```

#### ğŸ› ï¸ å·¥å…·å‡½æ•° (`utility/`)
```
utility/                          # å·¥å…·å‡½æ•°åº“
```

## ğŸŒŸ æ¶æ„ç‰¹ç‚¹

1. **ğŸ—ï¸ åˆ†å±‚æ¶æ„**: æ¸…æ™°çš„åˆ†å±‚è®¾è®¡ï¼ŒèŒè´£åˆ†ç¦»
2. **ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡**: æŒ‰ä¸šåŠ¡æ¨¡å—ï¼ˆhelloã€userï¼‰ç»„ç»‡ä»£ç 
3. **ğŸ”„ ç‰ˆæœ¬ç®¡ç†**: APIæŒ‰ç‰ˆæœ¬ï¼ˆv1ï¼‰ç®¡ç†ï¼Œä¾¿äºå‘åå…¼å®¹
4. **ğŸ¤– è‡ªåŠ¨ç”Ÿæˆ**: entityå’Œdaoä»£ç å¯é€šè¿‡GoFrameå·¥å…·è‡ªåŠ¨ç”Ÿæˆ
5. **ğŸ³ å®¹å™¨åŒ–æ”¯æŒ**: å®Œæ•´çš„Dockerå’ŒKuberneteséƒ¨ç½²é…ç½®
6. **ğŸ“ æ ‡å‡†åŒ–**: éµå¾ªGoFrameæ¡†æ¶çš„é¡¹ç›®ç»“æ„è§„èŒƒ

## ğŸ” ä¸»è¦åŠŸèƒ½æ¨¡å—

### Helloæ¨¡å—
- `GET /hello` - ç®€å•çš„Helloæ¥å£

### Useræ¨¡å—  
- `POST /user` - åˆ›å»ºç”¨æˆ·
- `GET /user` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒå¹´é¾„å’ŒçŠ¶æ€ç­›é€‰ï¼‰
- `GET /user/{id}` - è·å–å•ä¸ªç”¨æˆ·ä¿¡æ¯
- `PUT /user/{id}` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `DELETE /user/{id}` - åˆ é™¤ç”¨æˆ·

## ğŸ“– å¼€å‘æŒ‡å—

1. **APIæ¥å£å¼€å‘æµç¨‹**:
   ```
   1. åœ¨ api/æ¨¡å—å/v1/ ä¸­å®šä¹‰æ¥å£ç»“æ„ä½“
   2. åœ¨ internal/controller/æ¨¡å—å/ ä¸­å®ç°æ§åˆ¶å™¨é€»è¾‘
   3. åœ¨ internal/service/ ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼ˆå¯é€‰ï¼‰
   4. åœ¨ internal/dao/ ä¸­å®ç°æ•°æ®è®¿é—®é€»è¾‘
   ```

2. **æ•°æ®åº“è¡¨ç”Ÿæˆ**:
   ```bash
   # ä½¿ç”¨GoFrame CLIå·¥å…·ç”Ÿæˆentityå’Œdao
   gf gen dao
   ```

3. **APIæ–‡æ¡£æ›´æ–°**:
   ```bash
   # ç”ŸæˆOpenAPIæ–‡æ¡£
   gf gen openapi
   ```

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„GoFrameä¼ä¸šçº§é¡¹ç›®ç»“æ„ï¼Œå…·å¤‡è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ ‡å‡†åŒ–ç¨‹åº¦ã€‚